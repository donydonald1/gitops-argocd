clickhouse:
  # Use existing secret for authentication
  auth:
    username: gitlab
    existingSecret: clickhouse-auth
    existingSecretKey: password

  # Cluster configuration
  clusterName: clickhouse

  # ClickHouse shards/replicas
  shards: 1
  replicaCount: 3

  # Resources
  resourcesPreset: "medium"
  resources:
    requests:
      cpu: 1
      memory: 4Gi
    limits:
      cpu: 4
      memory: 16Gi

  # Persistence
  persistence:
    enabled: true
    size: 100Gi
    storageClass: longhorn

  # Service
  service:
    type: ClusterIP

  # ClickHouse Keeper for coordination
  keeper:
    enabled: true
    replicaCount: 3
    persistence:
      enabled: true
      size: 10Gi
      storageClass: longhorn
    resourcesPreset: "small"

  # Zookeeper is external (use keeper instead)
  zookeeper:
    enabled: false

  # Extra users - create default user for GitLab
  extraUsers:
    - name: default
      password: ""
      networks:
        - 0.0.0.0/0
      profile: default
      quota: default
      access_management: 1
