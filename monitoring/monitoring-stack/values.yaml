kube-prometheus-stack:
  fullnameOverride: "kps"
  additionalPrometheusRulesMap: {}
  alertmanager:
    additionalLabels: {}
    alertmanagerSpec:
      additionalArgs: []
      additionalConfig: {}
      additionalConfigString: ''
      additionalPeers: []
      affinity: {}
      alertmanagerConfigMatcherStrategy: {}
      alertmanagerConfigNamespaceSelector: {}
      alertmanagerConfigSelector: {}
      alertmanagerConfiguration: {}
      automountServiceAccountToken: true
      clusterAdvertiseAddress: false
      clusterGossipInterval: ''
      clusterLabel: ''
      clusterPeerTimeout: ''
      clusterPushpullInterval: ''
      configMaps: []
      containers: []
      dnsConfig: {}
      dnsPolicy: ''
      externalUrl: alertmanager.ops.techsecom.io
      forceEnableClusterMode: true
      image:
        pullPolicy: IfNotPresent
        repository: rancher/mirrored-prometheus-alertmanager
        sha: ''
        tag: v0.28.1
      initContainers: []
      listenLocal: false
      logFormat: logfmt
      logLevel: info
      minReadySeconds: 0
      nodeSelector: {}
      paused: false
      persistentVolumeClaimRetentionPolicy: {}
      podAntiAffinity: soft
      podAntiAffinityTopologyKey: kubernetes.io/hostname
      podMetadata: {}
      portName: http-web
      priorityClassName: ''
      replicas: 1
      resources:
        limits:
          cpu: 1000m
          memory: 500Mi
        requests:
          cpu: 100m
          memory: 100Mi
      retention: 120h
      routePrefix: /
      scheme: ''
      secrets: []
      securityContext:
        fsGroup: 2000
        runAsGroup: 2000
        runAsNonRoot: true
        runAsUser: 1000
        seccompProfile:
          type: RuntimeDefault
      serviceName: null
      storage: {}
      tlsConfig: {}
      tolerations: []
      topologySpreadConstraints: []
      useExistingSecret: false
      volumeMounts: []
      volumes: []
      web: {}
    annotations: {}
    apiVersion: v2
    config:
      global:
        resolve_timeout: 5m
      route:
        group_by: [ 'alertname', 'job' ]
        group_wait: 45s
        group_interval: 10m
        repeat_interval: 12h
        receiver: "msteams"
        routes:
        - receiver: "null" # quote
          matchers:
          - alertname =~ "Watchdog"
        - receiver: "null" # quote
          matchers:
          - alertname =~ "InfoInhibitor"
        - receiver: "msteams"
          match:
            severity: critical
          continue: true
        - receiver: "msteams"
      inhibit_rules:
      - source_matchers:
        - severity = "critical"
        target_matchers:
        - severity = "warning"
        equal: [ "alertname", "namespace" ]
      - target_match_re:
          alertname: '.+Overcommit'
        source_match:
          alertname: 'Watchdog'
        equal: [ 'prometheus' ]
      receivers:
      - name: "null"
      - name: "msteams"
        msteams_configs:
        - send_resolved: true
          webhook_url: <path:secret/data/msteams#webhook-url>
          title: |-
            ðŸš¨ [{{ .Status | toUpper }}{{ if eq .Status "firing" }}:{{ .Alerts.Firing | len }}{{ end }}] 
            (Cluster: {{ .CommonLabels.cluster }})

            **ðŸ“¢ Alert Notification - Techsecoms Monitoring**

            {{ if eq .Status "firing" }}ðŸ”¥ **Action Required Immediately!** ðŸ”¥{{ else }}âœ… **Issue Resolved** âœ…{{ end }}

          text: |-
            **ðŸ”” Alert Details:**
            {{ range $index, $alert := .Alerts -}}{{ if $index }}---{{ end }}
            {{ if $alert.Labels.alertname }}
            **ðŸ†˜ Alert Name**: {{ $alert.Labels.alertname }}
            {{ end }}

            **ðŸ›‘ Labels:**
            {{ if $alert.Labels.severity }}
            - **Severity**: {{ $alert.Labels.severity }}
            {{ end }}
            {{ if $alert.Labels.instance }}
            - **Instance**: {{ $alert.Labels.instance }}
            {{ end }}
            {{ if $alert.Labels.namespace }}
            - **Namespace**: {{ $alert.Labels.namespace }}
            {{ end }}
            {{ if $alert.Labels.pod }}
            - **Pod**: {{ $alert.Labels.pod }}
            {{ end }}

            **ðŸ“„ Annotations:**
            {{ if $alert.Annotations.description }}
            - **Description**: {{ $alert.Annotations.description }}
            {{ end }}
            {{ if $alert.Annotations.summary }}
            - **Summary**: {{ $alert.Annotations.summary }}
            {{ end }}

            {{ if $alert.GeneratorURL }}
            ðŸ”— **Source**: [View in AlertManager]({{ $alert.GeneratorURL }})
            {{ end }}

            **ðŸ“Œ Additional Notes:**
            - Ensure the affected service is reviewed immediately.
            - Escalate to the **on-call team** if required.
            - Check related metrics and logs for further debugging.

            {{ end }}
    enableFeatures: []
    enabled: true
    extraSecret:
      annotations: {}
      data: {}
    forceDeployDashboards: false
    ingress:
      annotations: {}
      enabled: false
      hosts: []
      ingressClassName: ''
      labels: {}
      paths: []
      tls: []
    ingressPerReplica:
      annotations: {}
      enabled: false
      hostDomain: ''
      hostPrefix: ''
      ingressClassName: ''
      labels: {}
      paths: []
      tlsSecretName: ''
      tlsSecretPerReplica:
        enabled: false
        prefix: alertmanager
    namespaceOverride: ''
    networkPolicy:
      additionalIngress: []
      egress:
        enabled: false
        rules: []
      enableClusterRules: true
      enabled: false
      gateway:
        namespace: ''
        podLabels: {}
      monitoringRules:
        configReloader: true
        prometheus: true
      policyTypes:
      - Ingress
    podDisruptionBudget:
      enabled: false
      minAvailable: 1
      unhealthyPodEvictionPolicy: AlwaysAllow
    route:
      main:
        additionalRules: []
        annotations: {}
        apiVersion: gateway.networking.k8s.io/v1
        enabled: false
        filters: []
        hostnames: []
        httpsRedirect: false
        kind: HTTPRoute
        labels: {}
        matches:
        - path:
            type: PathPrefix
            value: /
        parentRefs: []
    secret:
      annotations: {}
      recreateIfExists: false
    service:
      additionalPorts: []
      annotations: {}
      clusterIP: ''
      enabled: true
      externalIPs: []
      externalTrafficPolicy: Cluster
      ipDualStack:
        enabled: false
        ipFamilies:
        - IPv6
        - IPv4
        ipFamilyPolicy: PreferDualStack
      labels: {}
      loadBalancerIP: ''
      loadBalancerSourceRanges: []
      nodePort: 30903
      port: 9093
      sessionAffinity: None
      sessionAffinityConfig:
        clientIP:
          timeoutSeconds: 10800
      targetPort: 9093
      type: ClusterIP
    serviceAccount:
      annotations: {}
      automountServiceAccountToken: true
      create: true
      name: ''
    serviceMonitor:
      additionalEndpoints: []
      additionalLabels: {}
      bearerTokenFile: null
      enableHttp2: true
      interval: ''
      labelLimit: 0
      labelNameLengthLimit: 0
      labelValueLengthLimit: 0
      metricRelabelings: []
      proxyUrl: ''
      relabelings: []
      sampleLimit: 0
      scheme: ''
      selfMonitor: true
      targetLimit: 0
      tlsConfig: {}
    servicePerReplica:
      annotations: {}
      enabled: false
      externalTrafficPolicy: Cluster
      loadBalancerSourceRanges: []
      nodePort: 30904
      port: 9093
      targetPort: 9093
      type: ClusterIP
    stringConfig: ''
    templateFiles:
      rancher_defaults.tmpl: >-
        {{- define "slack.rancher.text" -}}

        {{ template "rancher.text_multiple" . }}

        {{- end -}}


        {{- define "rancher.text_multiple" -}}

        *[GROUP - Details]*

        One or more alarms in this group have triggered a notification.


        {{- if gt (len .GroupLabels.Values) 0 }}

        *Group Labels:*
          {{- range .GroupLabels.SortedPairs }}
          â€¢ *{{ .Name }}:* `{{ .Value }}`
          {{- end }}
        {{- end }}

        {{- if .ExternalURL }}

        *Link to AlertManager:* {{ .ExternalURL }}

        {{- end }}


        {{- range .Alerts }}

        {{ template "rancher.text_single" . }}

        {{- end }}

        {{- end -}}


        {{- define "rancher.text_single" -}}

        {{- if .Labels.alertname }}

        *[ALERT - {{ .Labels.alertname }}]*

        {{- else }}

        *[ALERT]*

        {{- end }}

        {{- if .Labels.severity }}

        *Severity:* `{{ .Labels.severity }}`

        {{- end }}

        {{- if .Labels.cluster }}

        *Cluster:*  {{ .Labels.cluster }}

        {{- end }}

        {{- if .Annotations.summary }}

        *Summary:* {{ .Annotations.summary }}

        {{- end }}

        {{- if .Annotations.message }}

        *Message:* {{ .Annotations.message }}

        {{- end }}

        {{- if .Annotations.description }}

        *Description:* {{ .Annotations.description }}

        {{- end }}

        {{- if .Annotations.runbook_url }}

        *Runbook URL:* <{{ .Annotations.runbook_url }}|:spiral_note_pad:>

        {{- end }}

        {{- with .Labels }}

        {{- with .Remove (stringSlice "alertname" "severity" "cluster") }}

        {{- if gt (len .) 0 }}

        *Additional Labels:*
          {{- range .SortedPairs }}
          â€¢ *{{ .Name }}:* `{{ .Value }}`
          {{- end }}
        {{- end }}

        {{- end }}

        {{- end }}

        {{- with .Annotations }}

        {{- with .Remove (stringSlice "summary" "message" "description" "runbook_url") }}

        {{- if gt (len .) 0 }}

        *Additional Annotations:*
          {{- range .SortedPairs }}
          â€¢ *{{ .Name }}:* `{{ .Value }}`
          {{- end }}
        {{- end }}

        {{- end }}

        {{- end }}

        {{- end -}}
    tplConfig: false
  cleanPrometheusOperatorObjectNames: false
  commonLabels: {}
  coreDns:
    enabled: true
    service:
      enabled: true
      ipDualStack:
        enabled: false
        ipFamilies:
        - IPv6
        - IPv4
        ipFamilyPolicy: PreferDualStack
      port: 9153
      targetPort: 9153
    serviceMonitor:
      additionalLabels: {}
      enabled: true
      interval: ''
      jobLabel: jobLabel
      labelLimit: 0
      labelNameLengthLimit: 0
      labelValueLengthLimit: 0
      metricRelabelings: []
      port: http-metrics
      proxyUrl: ''
      relabelings: []
      sampleLimit: 0
      selector: {}
      targetLabels: []
      targetLimit: 0
  crds:
    enabled: true
    upgradeJob:
      affinity: {}
      annotations: {}
      containerSecurityContext:
        allowPrivilegeEscalation: false
        capabilities:
          drop:
          - ALL
        readOnlyRootFilesystem: true
      enabled: false
      env: {}
      extraVolumeMounts: []
      extraVolumes: []
      forceConflicts: false
      image:
        busybox:
          pullPolicy: IfNotPresent
          repository: rancher/mirrored-library-busybox
          tag: 1.37.0
        kubectl:
          pullPolicy: IfNotPresent
          repository: rancher/kuberlr-kubectl
          tag: v6.0.0
      labels: {}
      nodeSelector: {}
      podAnnotations: {}
      podLabels: {}
      podSecurityContext:
        fsGroup: 65534
        runAsGroup: 65534
        runAsNonRoot: true
        runAsUser: 65534
        seccompProfile:
          type: RuntimeDefault
      resources: {}
      serviceAccount:
        annotations: {}
        automountServiceAccountToken: true
        create: true
        labels: {}
        name: ''
      tolerations: []
      topologySpreadConstraints: []
  customRules: {}
  defaultRules:
    additionalAggregationLabels: []
    additionalRuleAnnotations: {}
    additionalRuleGroupAnnotations:
      alertmanager: {}
      configReloaders: {}
      etcd: {}
      general: {}
      k8sContainerCpuUsageSecondsTotal: {}
      k8sContainerMemoryCache: {}
      k8sContainerMemoryRss: {}
      k8sContainerMemorySwap: {}
      k8sContainerResource: {}
      k8sPodOwner: {}
      kubeApiserverAvailability: {}
      kubeApiserverBurnrate: {}
      kubeApiserverHistogram: {}
      kubeApiserverSlos: {}
      kubeControllerManager: {}
      kubePrometheusGeneral: {}
      kubePrometheusNodeRecording: {}
      kubeProxy: {}
      kubeSchedulerAlerting: {}
      kubeSchedulerRecording: {}
      kubeStateMetrics: {}
      kubelet: {}
      kubernetesApps: {}
      kubernetesResources: {}
      kubernetesStorage: {}
      kubernetesSystem: {}
      network: {}
      node: {}
      nodeExporterAlerting: {}
      nodeExporterRecording: {}
      prometheus: {}
      prometheusOperator: {}
    additionalRuleGroupLabels:
      alertmanager: {}
      configReloaders: {}
      etcd: {}
      general: {}
      k8sContainerCpuUsageSecondsTotal: {}
      k8sContainerMemoryCache: {}
      k8sContainerMemoryRss: {}
      k8sContainerMemorySwap: {}
      k8sContainerResource: {}
      k8sPodOwner: {}
      kubeApiserverAvailability: {}
      kubeApiserverBurnrate: {}
      kubeApiserverHistogram: {}
      kubeApiserverSlos: {}
      kubeControllerManager: {}
      kubePrometheusGeneral: {}
      kubePrometheusNodeRecording: {}
      kubeProxy: {}
      kubeSchedulerAlerting: {}
      kubeSchedulerRecording: {}
      kubeStateMetrics: {}
      kubelet: {}
      kubernetesApps: {}
      kubernetesResources: {}
      kubernetesStorage: {}
      kubernetesSystem: {}
      network: {}
      node: {}
      nodeExporterAlerting: {}
      nodeExporterRecording: {}
      prometheus: {}
      prometheusOperator: {}
    additionalRuleLabels: {}
    annotations: {}
    appNamespacesOperator: '=~'
    appNamespacesTarget: .*
    create: true
    disabled: {}
    keepFiringFor: ''
    labels: {}
    node:
      fsSelector: fstype!=""
    rules:
      alertmanager: true
      configReloaders: true
      etcd: true
      general: true
      k8sContainerCpuUsageSecondsTotal: true
      k8sContainerMemoryCache: true
      k8sContainerMemoryRss: true
      k8sContainerMemorySwap: true
      k8sContainerMemoryWorkingSetBytes: true
      k8sContainerResource: true
      k8sPodOwner: true
      kubeApiserverAvailability: true
      kubeApiserverBurnrate: true
      kubeApiserverHistogram: true
      kubeApiserverSlos: true
      kubeControllerManager: true
      kubePrometheusGeneral: true
      kubePrometheusNodeRecording: true
      kubeProxy: true
      kubeSchedulerAlerting: true
      kubeSchedulerRecording: true
      kubeStateMetrics: true
      kubelet: true
      kubernetesApps: true
      kubernetesResources: true
      kubernetesStorage: true
      kubernetesSystem: true
      network: true
      node: true
      nodeExporterAlerting: true
      nodeExporterRecording: true
      prometheus: true
      prometheusOperator: true
      windows: true
    runbookUrl: https://runbooks.prometheus-operator.dev/runbooks
  extraManifests: null
  global:
    cattle:
      windows:
        enabled: false
    disableProxyIPv6: false
    imagePullSecrets: []
    imageRegistry: docker.io
    kubectl:
      pullPolicy: IfNotPresent
      repository: rancher/kuberlr-kubectl
      tag: v6.0.0
    rbac:
      create: true
      createAggregateClusterRoles: false
      userRoles:
        aggregateToDefaultRoles: true
        create: true
    seLinux:
      enabled: false
  grafana:
    # Disable secret leak check since we use AVP placeholders
    assertNoLeakedSecrets: false
    additionalDataSources: []
    env:
      GF_SERVER_ROOT_URL: https://grafana.ops.techsecom.io
      GF_SECURITY_COOKIE_SAMESITE: grafana
      TZ: America/Chicago
      GF_DATABASE_TYPE: postgres
      GF_DATABASE_HOST: cnpg-cluster-rw.cnpg-system.svc.cluster.local:5432
      GF_DATABASE_NAME: grafana
      GF_DATABASE_SSL_MODE: disable

    admin:
      existingSecret: grafana-admin-creds
      userKey: username
      passwordKey: password
    defaultDashboards:
      cleanupOnUninstall: false
      namespace: cattle-dashboards
      useExistingNamespace: false
    defaultDashboardsEditable: true
    defaultDashboardsEnabled: true
    defaultDashboardsInterval: 1m
    defaultDashboardsTimezone: utc
    deleteDatasources: []
    deploymentStrategy:
      type: Recreate
    enabled: true
    extraConfigmapMounts: []
    extraContainerVolumes:
    - emptyDir: {}
      name: nginx-home
    - configMap:
        items:
        - key: nginx.conf
          mode: 438
          path: nginx.conf
        name: grafana-nginx-proxy-config
      name: grafana-nginx
    extraContainers: |
      - name: grafana-proxy
        args:
        - nginx
        - -g
        - daemon off;
        - -c
        - /nginx/nginx.conf
        image: "docker.io/rancher/mirrored-library-nginx:1.27.2-alpine"
        ports:
        - containerPort: 8080
          name: nginx-http
          protocol: TCP
        volumeMounts:
        - mountPath: /nginx
          name: grafana-nginx
        - mountPath: /var/cache/nginx
          name: nginx-home
        securityContext:
          runAsUser: 101
          runAsGroup: 101
          allowPrivilegeEscalation: false
          readOnlyRootFilesystem: true
          capabilities:
            drop:
              - ALL
    forceDeployDashboards: false
    forceDeployDatasources: false
    grafana.ini:
      server:
        root_url: https://grafana.ops.techsecom.io
      auth:
        auto_login: true
        disable_signout_menu: false
      auth.generic_oauth:
        enabled: true
        client_id: <path:secret/data/grafana#client_id>
        client_secret: <path:secret/data/grafana#client_secret>
        allow_sign_up: true
        scopes: openid profile email roles
        auth_url: <path:secret/data/grafana#auth_url>
        token_url: <path:secret/data/grafana#token_url>
        api_url: <path:secret/data/grafana#api_url>
        use_pkce: true
        use_refresh_token: true
      users:
        auto_assign_org: true
        auto_assign_org_role: Editor
      auth.anonymous:
        org_name: "Techsecom Consulting Group"
      auth.basic:
        enabled: false
      dashboards:
        default_home_dashboard_path: /tmp/dashboards/rancher-default-home.json
      security:
        allow_embedding: true
      database:
        type: postgres
        host: "cnpg-cluster-rw.cnpg-system.svc.cluster.local:5432"
        name: grafana
        user: $__file{/etc/secrets/username}
        password: $__file{/etc/secrets/password}
        ssl_mode: disable
    extraSecretMounts:
    - name: grafana-db-secret
      secretName: grafana-user-secret
      mountPath: /etc/secrets
      readOnly: true
    extraEnvFrom:
    - secretRef:
        name: grafana-user-secret
    extraEnv:
    - name: GF_DATABASE_USER
      valueFrom:
        secretKeyRef:
          name: grafana-user-secret
          key: username
    - name: GF_DATABASE_PASSWORD__FILE
      value: /etc/secrets/password
    ingress:
      enabled: true
      ingressClassName: nginx
      annotations:
        kubernetes.io/ingress.class: "nginx"
        cert-manager.io/cluster-issuer: "letsencrypt-prod"
        cert-manager.io/revision-history-limit: "3"
        external-dns.alpha.kubernetes.io/enabled: "true"
        cert-manager.io/duration: "2160h"
        cert-manager.io/renew-before: "720h"

      hosts: [ grafana.ops.techsecom.io ]
      tls:
      - hosts:
        - grafana.ops.techsecom.io
        secretName: grafana-cert-tls
    namespaceOverride: ''
    operator:
      annotations: {}
      dashboardsConfigMapRefEnabled: false
      folder: General
      matchLabels: {}
      resyncPeriod: 10m
    proxy:
      image:
        repository: rancher/mirrored-library-nginx
        tag: 1.27.2-alpine
    prune: false
    rbac:
      pspEnabled: false
    resources:
      limits:
        cpu: 200m
        memory: 200Mi
      requests:
        cpu: 100m
        memory: 100Mi
    service:
      ipFamilies: []
      ipFamilyPolicy: ''
      nodePort: 30950
      port: 80
      portName: nginx-http
      targetPort: 8080
      type: ClusterIP
    serviceAccount:
      autoMount: true
      create: true
    serviceMonitor:
      enabled: true
      interval: ''
      labels: {}
      path: /metrics
      relabelings: []
      scheme: http
      scrapeTimeout: 30s
      tlsConfig: {}
    sidecar:
      dashboards:
        annotations: {}
        enableNewTablePanelSyntax: false
        enabled: true
        label: grafana_dashboard
        labelValue: '1'
        multicluster:
          etcd:
            enabled: false
          global:
            enabled: false
        provider:
          allowUiUpdates: false
        searchNamespace: cattle-dashboards
      datasources:
        alertmanager:
          enabled: true
          handleGrafanaManagedAlerts: false
          implementation: prometheus
          name: Alertmanager
          uid: alertmanager
        annotations: {}
        createPrometheusReplicasDatasources: false
        defaultDatasourceEnabled: true
        enabled: true
        exemplarTraceIdDestinations: {}
        httpMethod: POST
        isDefaultDatasource: true
        label: grafana_datasource
        labelValue: '1'
        name: Prometheus
        prometheusServiceName: prometheus-operated
        uid: prometheus
    testFramework:
      enabled: false
    persistence:
      accessModes:
      - ReadWriteOnce
      storageClassName: longhorn
      size: 10Gi
      subPath: null
      type: statefulset
      enabled: true
  hardened:
    k3s:
      networkPolicy:
        enabled: true
  hardenedKubelet:
    clients:
      https:
        enabled: true
        insecureSkipVerify: true
        useServiceAccountCredentials: true
      port: 10015
      rbac:
        additionalRules:
        - nonResourceURLs:
          - /metrics/cadvisor
          verbs:
          - get
        - apiGroups:
          - ''
          resources:
          - nodes/metrics
          verbs:
          - get
      tolerations:
      - effect: NoExecute
        operator: Exists
      - effect: NoSchedule
        operator: Exists
      useLocalhost: true
    component: kubelet
    enabled: false
    metricsPort: 10250
    serviceMonitor:
      endpoints:
      - honorLabels: true
        port: metrics
        relabelings:
        - sourceLabels:
          - __metrics_path__
          targetLabel: metrics_path
      - honorLabels: true
        path: /metrics/cadvisor
        port: metrics
        relabelings:
        - sourceLabels:
          - __metrics_path__
          targetLabel: metrics_path
      - honorLabels: true
        path: /metrics/probes
        port: metrics
        relabelings:
        - sourceLabels:
          - __metrics_path__
          targetLabel: metrics_path
  hardenedNodeExporter:
    clients:
      port: 10016
      tolerations:
      - effect: NoExecute
        operator: Exists
      - effect: NoSchedule
        operator: Exists
      useLocalhost: true
    component: node-exporter
    enabled: false
    metricsPort: 9796
  ingressNginx:
    enabled: false
    namespace: ingress-nginx
    service:
      port: 9913
      targetPort: 10254
    serviceMonitor:
      interval: 30s
      metricRelabelings: []
      proxyUrl: ''
      relabelings: []
  k3sServer:
    clients:
      https:
        enabled: true
        insecureSkipVerify: true
        useServiceAccountCredentials: true
      port: 10013
      rbac:
        additionalRules:
        - nonResourceURLs:
          - /metrics/cadvisor
          verbs:
          - get
        - apiGroups:
          - ''
          resources:
          - nodes/metrics
          verbs:
          - get
      tolerations:
      - effect: NoExecute
        operator: Exists
      - effect: NoSchedule
        operator: Exists
      useLocalhost: true
    component: k3s-server
    enabled: false
    metricsPort: 10250
    serviceMonitor:
      endpoints:
      - honorLabels: true
        port: metrics
        relabelings:
        - sourceLabels:
          - __metrics_path__
          targetLabel: metrics_path
      - honorLabels: true
        path: /metrics/cadvisor
        port: metrics
        relabelings:
        - sourceLabels:
          - __metrics_path__
          targetLabel: metrics_path
      - honorLabels: true
        path: /metrics/probes
        port: metrics
        relabelings:
        - sourceLabels:
          - __metrics_path__
          targetLabel: metrics_path
  kube-state-metrics:
    namespaceOverride: ''
    prometheus:
      monitor:
        enabled: true
        honorLabels: true
        interval: ''
        labelLimit: 0
        labelNameLengthLimit: 0
        labelValueLengthLimit: 0
        metricRelabelings: []
        proxyUrl: ''
        relabelings: []
        sampleLimit: 0
        scrapeTimeout: ''
        targetLimit: 0
    prometheusScrape: false
    rbac:
      create: true
    releaseLabel: true
    selfMonitor:
      enabled: false
  kubeAdmControllerManager:
    clients:
      https:
        enabled: true
        insecureSkipVerify: true
        useServiceAccountCredentials: true
      nodeSelector:
        node-role.kubernetes.io/master: ''
      port: 10011
      tolerations:
      - effect: NoExecute
        operator: Exists
      - effect: NoSchedule
        operator: Exists
      useLocalhost: true
    component: kube-controller-manager
    enabled: false
    metricsPort: 10257
  kubeAdmEtcd:
    clients:
      nodeSelector:
        node-role.kubernetes.io/master: ''
      port: 10014
      tolerations:
      - effect: NoExecute
        operator: Exists
      - effect: NoSchedule
        operator: Exists
      useLocalhost: true
    component: kube-etcd
    enabled: false
    metricsPort: 2381
  kubeAdmProxy:
    clients:
      port: 10013
      tolerations:
      - effect: NoExecute
        operator: Exists
      - effect: NoSchedule
        operator: Exists
      useLocalhost: true
    component: kube-proxy
    enabled: false
    metricsPort: 10249
  kubeAdmScheduler:
    clients:
      https:
        enabled: true
        insecureSkipVerify: true
        useServiceAccountCredentials: true
      nodeSelector:
        node-role.kubernetes.io/master: ''
      port: 10012
      tolerations:
      - effect: NoExecute
        operator: Exists
      - effect: NoSchedule
        operator: Exists
      useLocalhost: true
    component: kube-scheduler
    enabled: false
    metricsPort: 10259
  kubeApiServer:
    enabled: true
    serviceMonitor:
      additionalLabels: {}
      enabled: true
      interval: ''
      jobLabel: component
      labelLimit: 0
      labelNameLengthLimit: 0
      labelValueLengthLimit: 0
      metricRelabelings:
      - action: drop
        regex: >-
          (etcd_request|apiserver_request_slo|apiserver_request_sli|apiserver_request)_duration_seconds_bucket;(0\.15|0\.2|0\.3|0\.35|0\.4|0\.45|0\.6|0\.7|0\.8|0\.9|1\.25|1\.5|1\.75|2|3|3\.5|4|4\.5|6|7|8|9|15|20|40|45|50)(\.0)?
        sourceLabels:
        - __name__
        - le
      proxyUrl: ''
      relabelings: []
      sampleLimit: 0
      selector:
        matchLabels:
          component: apiserver
          provider: kubernetes
      targetLabels: []
      targetLimit: 0
    tlsConfig:
      insecureSkipVerify: false
      serverName: kubernetes
  kubeControllerManager:
    enabled: false
    endpoints: []
    service:
      enabled: true
      ipDualStack:
        enabled: false
        ipFamilies:
        - IPv6
        - IPv4
        ipFamilyPolicy: PreferDualStack
      port: null
      targetPort: null
    serviceMonitor:
      additionalLabels: {}
      enabled: true
      https: null
      insecureSkipVerify: null
      interval: ''
      jobLabel: jobLabel
      labelLimit: 0
      labelNameLengthLimit: 0
      labelValueLengthLimit: 0
      metricRelabelings: []
      port: http-metrics
      proxyUrl: ''
      relabelings: []
      sampleLimit: 0
      selector: {}
      serverName: null
      targetLabels: []
      targetLimit: 0
  kubeDns:
    enabled: false
    service:
      dnsmasq:
        port: 10054
        targetPort: 10054
      ipDualStack:
        enabled: false
        ipFamilies:
        - IPv6
        - IPv4
        ipFamilyPolicy: PreferDualStack
      skydns:
        port: 10055
        targetPort: 10055
    serviceMonitor:
      additionalLabels: {}
      dnsmasqMetricRelabelings: []
      dnsmasqRelabelings: []
      interval: ''
      jobLabel: jobLabel
      labelLimit: 0
      labelNameLengthLimit: 0
      labelValueLengthLimit: 0
      metricRelabelings: []
      proxyUrl: ''
      relabelings: []
      sampleLimit: 0
      selector: {}
      targetLabels: []
      targetLimit: 0
  kubeEtcd:
    enabled: false
    endpoints: []
    service:
      enabled: true
      ipDualStack:
        enabled: false
        ipFamilies:
        - IPv6
        - IPv4
        ipFamilyPolicy: PreferDualStack
      port: 2381
      targetPort: 2381
    serviceMonitor:
      additionalLabels: {}
      caFile: ''
      certFile: ''
      enabled: true
      insecureSkipVerify: false
      interval: ''
      jobLabel: jobLabel
      keyFile: ''
      labelLimit: 0
      labelNameLengthLimit: 0
      labelValueLengthLimit: 0
      metricRelabelings: []
      port: http-metrics
      proxyUrl: ''
      relabelings: []
      sampleLimit: 0
      scheme: http
      selector: {}
      serverName: ''
      targetLabels: []
      targetLimit: 0
  kubeProxy:
    enabled: false
    endpoints: []
    service:
      enabled: true
      ipDualStack:
        enabled: false
        ipFamilies:
        - IPv6
        - IPv4
        ipFamilyPolicy: PreferDualStack
      port: 10249
      targetPort: 10249
    serviceMonitor:
      additionalLabels: {}
      enabled: true
      https: false
      interval: ''
      jobLabel: jobLabel
      labelLimit: 0
      labelNameLengthLimit: 0
      labelValueLengthLimit: 0
      metricRelabelings: []
      port: http-metrics
      proxyUrl: ''
      relabelings: []
      sampleLimit: 0
      selector: {}
      targetLabels: []
      targetLimit: 0
  kubeScheduler:
    enabled: false
    endpoints: []
    service:
      enabled: true
      ipDualStack:
        enabled: false
        ipFamilies:
        - IPv6
        - IPv4
        ipFamilyPolicy: PreferDualStack
      port: null
      targetPort: null
    serviceMonitor:
      additionalLabels: {}
      enabled: true
      https: null
      insecureSkipVerify: null
      interval: ''
      jobLabel: jobLabel
      labelLimit: 0
      labelNameLengthLimit: 0
      labelValueLengthLimit: 0
      metricRelabelings: []
      port: http-metrics
      proxyUrl: ''
      relabelings: []
      sampleLimit: 0
      selector: {}
      serverName: null
      targetLabels: []
      targetLimit: 0
  kubeStateMetrics:
    enabled: true
  kubeTargetVersionOverride: ''
  kubeVersionOverride: ''
  kubelet:
    enabled: true
    namespace: kube-system
    serviceMonitor:
      additionalLabels: {}
      attachMetadata:
        node: false
      cAdvisor: true
      cAdvisorInterval: 10s
      cAdvisorMetricRelabelings:
      - action: drop
        regex: >-
          container_cpu_(cfs_throttled_seconds_total|load_average_10s|system_seconds_total|user_seconds_total)
        sourceLabels:
        - __name__
      - action: drop
        regex: >-
          container_fs_(io_current|io_time_seconds_total|io_time_weighted_seconds_total|reads_merged_total|sector_reads_total|sector_writes_total|writes_merged_total)
        sourceLabels:
        - __name__
      - action: drop
        regex: container_memory_(mapped_file|swap)
        sourceLabels:
        - __name__
      - action: drop
        regex: container_(file_descriptors|tasks_state|threads_max)
        sourceLabels:
        - __name__
      - action: drop
        regex: container_memory_failures_total;hierarchy
        sourceLabels:
        - __name__
        - scope
      - action: drop
        regex: container_network_.*;(cali|cilium|cni|lxc|nodelocaldns|tunl).*
        sourceLabels:
        - __name__
        - interface
      - action: drop
        regex: container_spec.*
        sourceLabels:
        - __name__
      - action: drop
        regex: .+;
        sourceLabels:
        - id
        - pod
      cAdvisorRelabelings:
      - action: replace
        sourceLabels:
        - __metrics_path__
        targetLabel: metrics_path
      enabled: true
      honorLabels: true
      honorTimestamps: true
      https: true
      insecureSkipVerify: true
      interval: ''
      kubelet: true
      labelLimit: 0
      labelNameLengthLimit: 0
      labelValueLengthLimit: 0
      metricRelabelings:
      - action: drop
        regex: >-
          (csi_operations|storage_operation_duration)_seconds_bucket;(0.25|2.5|15|25|120|600)(\.0)?
        sourceLabels:
        - __name__
        - le
      probes: true
      probesMetricRelabelings: []
      probesRelabelings:
      - action: replace
        sourceLabels:
        - __metrics_path__
        targetLabel: metrics_path
      proxyUrl: ''
      relabelings:
      - action: replace
        sourceLabels:
        - __metrics_path__
        targetLabel: metrics_path
      resource: false
      resourceInterval: 10s
      resourcePath: /metrics/resource/v1alpha1
      resourceRelabelings:
      - action: replace
        sourceLabels:
        - __metrics_path__
        targetLabel: metrics_path
      sampleLimit: 0
      targetLabels: []
      targetLimit: 0
      trackTimestampsStaleness: true
  kubernetesServiceMonitors:
    enabled: true
  loggingMonitors:
    fluentbit:
      enabled: false
    fluentd:
      enabled: false
  nameOverride: rancher-monitoring
  namespaceOverride: cattle-monitoring-system
  nodeExporter:
    enabled: true
    forceDeployDashboards: false
    operatingSystems:
      aix:
        enabled: true
      darwin:
        enabled: true
      linux:
        enabled: true
  prometheus:
    additionalLabels: {}
    additionalPodMonitors: []
    additionalRulesForClusterRole: []
    additionalServiceMonitors: []
    agentMode: false
    annotations: {}
    disableServiceDiscovery: false
    enabled: true
    extraSecret:
      annotations: {}
      data: {}
    ingress:
      enabled: true
      pathType: Prefix
      ingressClassName: nginx
      annotations:
        kubernetes.io/ingress.class: "nginx"
        cert-manager.io/cluster-issuer: letsencrypt-prod
        cert-manager.io/revision-history-limit: "3"
        external-dns.alpha.kubernetes.io/enabled: "true"
        cert-manager.io/duration: "2160h"
        cert-manager.io/renew-before: "720h"

      hosts: [ prometheus.ops.techsecom.io ]
      tls:
      - hosts:
        - prometheus.ops.techsecom.io
        secretName: prom-server-cert-tls
    ingressPerReplica:
      annotations: {}
      enabled: false
      hostDomain: ''
      hostPrefix: ''
      ingressClassName: ''
      labels: {}
      paths: []
      tlsSecretName: ''
      tlsSecretPerReplica:
        enabled: false
        prefix: prometheus
    networkPolicy:
      enabled: false
      flavor: kubernetes
    podDisruptionBudget:
      enabled: false
      minAvailable: 1
      unhealthyPodEvictionPolicy: AlwaysAllow
    prometheusSpec:
      additionalAlertManagerConfigs: []
      additionalAlertManagerConfigsSecret: {}
      additionalAlertRelabelConfigs: []
      additionalAlertRelabelConfigsSecret: {}
      additionalArgs: []
      additionalConfig: {}
      additionalConfigString: ''
      additionalPrometheusSecretsAnnotations: {}
      additionalRemoteRead: []
      additionalRemoteWrite: []
      additionalScrapeConfigs: []
      additionalScrapeConfigsSecret: {}
      affinity: {}
      alertingEndpoints: []
      allowOverlappingBlocks: false
      apiserverConfig: {}
      arbitraryFSAccessThroughSMs: false
      automountServiceAccountToken: true
      configMaps: []
      containers:
      - name: prometheus-proxy
        args:
        - nginx
        - -g
        - daemon off;
        - -c
        - /nginx/nginx.conf
        image: "docker.io/rancher/mirrored-library-nginx:1.27.2-alpine"
        ports:
        - containerPort: 8081
          name: nginx-http
          protocol: TCP
        volumeMounts:
        - mountPath: /nginx
          name: prometheus-nginx
        - mountPath: /var/cache/nginx
          name: nginx-home
        securityContext:
          runAsUser: 101
          runAsGroup: 101
          allowPrivilegeEscalation: false
          readOnlyRootFilesystem: true
          capabilities:
            drop:
            - ALL
      disableCompaction: false
      dnsConfig: {}
      dnsPolicy: ''
      enableAdminAPI: true
      enableFeatures: []
      enableOTLPReceiver: false
      enableRemoteWriteReceiver: false
      enforcedKeepDroppedTargets: 0
      enforcedLabelLimit: false
      enforcedLabelNameLengthLimit: false
      enforcedLabelValueLengthLimit: false
      enforcedNamespaceLabel: ''
      enforcedSampleLimit: false
      enforcedTargetLimit: false
      evaluationInterval: 30s
      excludedFromEnforcement: []
      exemplars: {}
      externalLabels: {}
      externalUrl: ''
      hostAliases: []
      hostNetwork: false
      ignoreNamespaceSelectors: false
      image:
        pullPolicy: IfNotPresent
        repository: rancher/prom-prometheus
        tag: v3.5.0
      initContainers: []
      listenLocal: false
      logFormat: logfmt
      logLevel: info
      maximumStartupDurationSeconds: 0
      minReadySeconds: 0
      nameValidationScheme: ''
      nodeSelector: {}
      otlp: {}
      overrideHonorLabels: false
      overrideHonorTimestamps: false
      paused: false
      persistentVolumeClaimRetentionPolicy: {}
      podAntiAffinity: soft
      podAntiAffinityTopologyKey: kubernetes.io/hostname
      podMetadata: {}
      podMonitorNamespaceSelector: {}
      podMonitorSelector: {}
      podMonitorSelectorNilUsesHelmValues: false
      podTargetLabels: []
      portName: http-web
      priorityClassName: ''
      probeNamespaceSelector: {}
      probeSelector: {}
      probeSelectorNilUsesHelmValues: true
      prometheusExternalLabelName: ''
      prometheusExternalLabelNameClear: false
      prometheusRulesExcludedFromEnforce: []
      proxy:
        image:
          repository: rancher/mirrored-library-nginx
          tag: 1.27.2-alpine
      query: {}
      queryLogFile: false
      remoteRead: []
      remoteWrite: []
      remoteWriteDashboards: false
      replicaExternalLabelName: ''
      replicaExternalLabelNameClear: false
      replicas: 1
      resources:
        limits:
          cpu: 1000m
          memory: 3000Mi
        requests:
          cpu: 750m
          memory: 750Mi
      retention: 10d
      retentionSize: 100GiB
      routePrefix: /
      ruleNamespaceSelector: {}
      ruleSelector: {}
      ruleSelectorNilUsesHelmValues: false
      sampleLimit: false
      scrapeClasses: []
      scrapeConfigNamespaceSelector: {}
      scrapeConfigSelector: {}
      scrapeConfigSelectorNilUsesHelmValues: true
      scrapeFailureLogFile: ''
      scrapeInterval: 30s
      scrapeProtocols: []
      secrets: []
      securityContext:
        fsGroup: 2000
        runAsGroup: 2000
        runAsNonRoot: true
        runAsUser: 1000
        seccompProfile:
          type: RuntimeDefault
      serviceDiscoveryRole: ''
      serviceMonitorNamespaceSelector: {}
      serviceMonitorSelector: {}
      serviceMonitorSelectorNilUsesHelmValues: false
      serviceName: null
      shards: 1
      storageSpec:
        volumeClaimTemplate:
          spec:
            accessModes:
            - ReadWriteOnce
            resources:
              requests:
                storage: 50Gi
            storageClassName: longhorn
      thanos: {}
      tolerations: []
      topologySpreadConstraints: []
      tracingConfig: {}
      tsdb:
        outOfOrderTimeWindow: 0s
      version: ''
      volumeMounts: []
      volumes:
      - emptyDir: {}
        name: nginx-home
      - configMap:
          defaultMode: 438
          name: prometheus-nginx-proxy-config
        name: prometheus-nginx
      walCompression: true
      web: {}
    route:
      main:
        additionalRules: []
        annotations: {}
        apiVersion: gateway.networking.k8s.io/v1
        enabled: false
        filters: []
        hostnames: []
        httpsRedirect: false
        kind: HTTPRoute
        labels: {}
        matches:
        - path:
            type: PathPrefix
            value: /
        parentRefs: []
    service:
      additionalPorts: []
      annotations: {}
      clusterIP: ''
      enabled: true
      externalIPs: []
      externalTrafficPolicy: Cluster
      ipDualStack:
        enabled: false
        ipFamilies:
        - IPv6
        - IPv4
        ipFamilyPolicy: PreferDualStack
      labels: {}
      loadBalancerIP: ''
      loadBalancerSourceRanges: []
      nodePort: 30090
      port: 9090
      publishNotReadyAddresses: false
      reloaderWebPort: 8080
      sessionAffinity: None
      sessionAffinityConfig:
        clientIP:
          timeoutSeconds: 10800
      targetPort: 8081
      type: ClusterIP
    serviceAccount:
      annotations: {}
      automountServiceAccountToken: true
      create: true
      name: ''
    serviceMonitor:
      additionalEndpoints: []
      additionalLabels: {}
      bearerTokenFile: null
      interval: ''
      labelLimit: 0
      labelNameLengthLimit: 0
      labelValueLengthLimit: 0
      metricRelabelings: []
      relabelings: []
      sampleLimit: 0
      scheme: ''
      selfMonitor: true
      targetLimit: 0
      tlsConfig: {}
    servicePerReplica:
      annotations: {}
      enabled: false
      externalTrafficPolicy: Cluster
      ipDualStack:
        enabled: false
        ipFamilies:
        - IPv6
        - IPv4
        ipFamilyPolicy: PreferDualStack
      loadBalancerSourceRanges: []
      nodePort: 30091
      port: 9090
      targetPort: 9090
      type: ClusterIP
    thanosIngress:
      annotations: {}
      enabled: false
      hosts: []
      ingressClassName: ''
      labels: {}
      nodePort: 30901
      paths: []
      servicePort: 10901
      tls: []
    thanosService:
      annotations: {}
      clusterIP: None
      enabled: false
      externalTrafficPolicy: Cluster
      httpNodePort: 30902
      httpPort: 10902
      httpPortName: http
      ipDualStack:
        enabled: false
        ipFamilies:
        - IPv6
        - IPv4
        ipFamilyPolicy: PreferDualStack
      labels: {}
      nodePort: 30901
      port: 10901
      portName: grpc
      targetHttpPort: http
      targetPort: grpc
      type: ClusterIP
    thanosServiceExternal:
      annotations: {}
      enabled: false
      externalTrafficPolicy: Cluster
      httpNodePort: 30902
      httpPort: 10902
      httpPortName: http
      labels: {}
      loadBalancerIP: ''
      loadBalancerSourceRanges: []
      nodePort: 30901
      port: 10901
      portName: grpc
      targetHttpPort: http
      targetPort: grpc
      type: LoadBalancer
    thanosServiceMonitor:
      additionalLabels: {}
      bearerTokenFile: null
      enabled: false
      interval: ''
      metricRelabelings: []
      relabelings: []
      scheme: ''
      tlsConfig: {}
  prometheus-adapter:
    enabled: true
    prometheus:
      port: 9090
      url: http://rancher-monitoring-prometheus.cattle-monitoring-system.svc
  prometheus-node-exporter:
    extraArgs:
    - >-
      --collector.filesystem.mount-points-exclude=^/(dev|proc|sys|var/lib/docker/.+|var/lib/kubelet/.+)($|/)
    - >-
      --collector.filesystem.fs-types-exclude=^(autofs|binfmt_misc|bpf|cgroup2?|configfs|debugfs|devpts|devtmpfs|fusectl|hugetlbfs|iso9660|mqueue|nsfs|overlay|proc|procfs|pstore|rpc_pipefs|securityfs|selinuxfs|squashfs|sysfs|tracefs|erofs)$
    namespaceOverride: ''
    podLabels:
      jobLabel: node-exporter
    prometheus:
      monitor:
        enabled: true
        interval: ''
        jobLabel: jobLabel
        labelLimit: 0
        labelNameLengthLimit: 0
        labelValueLengthLimit: 0
        metricRelabelings: []
        proxyUrl: ''
        relabelings: []
        sampleLimit: 0
        scrapeTimeout: ''
        targetLimit: 0
      podMonitor:
        enabled: false
        jobLabel: jobLabel
    rbac:
      pspEnabled: false
    releaseLabel: true
    service:
      ipDualStack:
        enabled: false
        ipFamilies:
        - IPv6
        - IPv4
        ipFamilyPolicy: PreferDualStack
      labels:
        jobLabel: node-exporter
      portName: http-metrics
  prometheus-windows-exporter:
    config: |-
      collectors:
        enabled: '[defaults],memory,container'
    podLabels:
      jobLabel: windows-exporter
    prometheus:
      monitor:
        enabled: true
        jobLabel: jobLabel
    releaseLabel: true
  prometheusOperator:
    admissionWebhooks:
      # Disable admission webhooks - ArgoCD doesn't support Helm hooks properly
      # The webhook jobs fail to create the TLS secret needed by the operator
      # Re-enable once the operator is stable or use cert-manager
      enabled: false
      annotations: {}
      caBundle: ''
      certManager:
        admissionCert:
          duration: ''
          revisionHistoryLimit: null
        enabled: false
        rootCert:
          duration: ''
          revisionHistoryLimit: null
      createSecretJob:
        securityContext:
          allowPrivilegeEscalation: false
          capabilities:
            drop:
            - ALL
          readOnlyRootFilesystem: true
      deployment:
        affinity: {}
        annotations: {}
        automountServiceAccountToken: true
        containerSecurityContext:
          allowPrivilegeEscalation: false
          capabilities:
            drop:
            - ALL
          readOnlyRootFilesystem: true
        dnsConfig: {}
        enabled: false
        hostNetwork: false
        image:
          pullPolicy: IfNotPresent
          repository: rancher/mirrored-prometheus-operator-admission-webhook
          sha: ''
          tag: v0.85.0
        labels: {}
        livenessProbe:
          enabled: true
          failureThreshold: 3
          initialDelaySeconds: 30
          periodSeconds: 10
          successThreshold: 1
          timeoutSeconds: 1
        nodeSelector: {}
        podAnnotations: {}
        podDisruptionBudget:
          enabled: false
          minAvailable: 1
          unhealthyPodEvictionPolicy: AlwaysAllow
        podLabels: {}
        readinessProbe:
          enabled: true
          failureThreshold: 3
          initialDelaySeconds: 5
          periodSeconds: 10
          successThreshold: 1
          timeoutSeconds: 1
        replicas: 1
        resources: {}
        revisionHistoryLimit: 10
        securityContext:
          fsGroup: 65534
          runAsGroup: 65534
          runAsNonRoot: true
          runAsUser: 65534
          seccompProfile:
            type: RuntimeDefault
        service:
          additionalPorts: []
          annotations: {}
          clusterIP: ''
          externalIPs: []
          externalTrafficPolicy: Cluster
          ipDualStack:
            enabled: false
            ipFamilies:
            - IPv6
            - IPv4
            ipFamilyPolicy: PreferDualStack
          labels: {}
          loadBalancerIP: ''
          loadBalancerSourceRanges: []
          nodePort: 31080
          nodePortTls: 31443
          type: ClusterIP
        serviceAccount:
          annotations: {}
          automountServiceAccountToken: false
          create: true
          name: ''
        strategy: {}
        tls:
          enabled: true
          internalPort: 10250
          tlsMinVersion: VersionTLS13
        tolerations: []
      failurePolicy: ''
      matchConditions: {}
      mutatingWebhookConfiguration:
        annotations: {}
      namespaceSelector: {}
      objectSelector: {}
      patch:
        affinity: {}
        annotations: {}
        enabled: true
        image:
          pullPolicy: IfNotPresent
          repository: rancher/mirrored-ingress-nginx-kube-webhook-certgen
          sha: ''
          tag: v1.6.2
        nodeSelector: {}
        podAnnotations: {}
        priorityClassName: ''
        resources: {}
        securityContext:
          runAsGroup: 2000
          runAsNonRoot: true
          runAsUser: 2000
          seccompProfile:
            type: RuntimeDefault
        serviceAccount:
          annotations: {}
          automountServiceAccountToken: true
          create: true
        tolerations: []
        ttlSecondsAfterFinished: 60
      patchWebhookJob:
        securityContext:
          allowPrivilegeEscalation: false
          capabilities:
            drop:
            - ALL
          readOnlyRootFilesystem: true
      timeoutSeconds: 10
      validatingWebhookConfiguration:
        annotations: {}
    affinity: {}
    alertmanagerConfigNamespaces: []
    alertmanagerInstanceNamespaces: []
    alertmanagerInstanceSelector: ''
    annotations: {}
    automountServiceAccountToken: true
    containerSecurityContext:
      allowPrivilegeEscalation: false
      capabilities:
        drop:
        - ALL
      readOnlyRootFilesystem: true
    denyNamespaces: []
    dnsConfig: {}
    enabled: true
    env:
      GOGC: '30'
    extraArgs: []
    extraVolumeMounts: []
    extraVolumes: []
    fullnameOverride: ''
    hostNetwork: false
    image:
      pullPolicy: IfNotPresent
      repository: rancher/mirrored-prometheus-operator-prometheus-operator
      sha: ''
      tag: v0.85.0
    kubeletEndpointSliceEnabled: false
    kubeletEndpointsEnabled: true
    kubeletService:
      enabled: true
      name: ''
      namespace: kube-system
      selector: ''
    labels: {}
    lifecycle: {}
    livenessProbe:
      enabled: true
      failureThreshold: 3
      initialDelaySeconds: 0
      periodSeconds: 10
      successThreshold: 1
      timeoutSeconds: 1
    namespaces: {}
    networkPolicy:
      enabled: false
      flavor: kubernetes
    nodeSelector: {}
    podAnnotations: {}
    podDisruptionBudget:
      enabled: false
      minAvailable: 1
      unhealthyPodEvictionPolicy: AlwaysAllow
    podLabels: {}
    prometheusConfigReloader:
      enableProbe: false
      image:
        repository: rancher/mirrored-prometheus-operator-prometheus-config-reloader
        sha: ''
        tag: v0.80.1
      resources: {}
    prometheusInstanceNamespaces: []
    prometheusInstanceSelector: ''
    readinessProbe:
      enabled: true
      failureThreshold: 3
      initialDelaySeconds: 0
      periodSeconds: 10
      successThreshold: 1
      timeoutSeconds: 1
    resources: {}
    revisionHistoryLimit: 10
    secretFieldSelector: >-
      type!=kubernetes.io/dockercfg,type!=kubernetes.io/service-account-token,type!=helm.sh/release.v1
    securityContext:
      fsGroup: 65534
      runAsGroup: 65534
      runAsNonRoot: true
      runAsUser: 65534
      seccompProfile:
        type: RuntimeDefault
    service:
      additionalPorts: []
      annotations: {}
      clusterIP: ''
      externalIPs: []
      externalTrafficPolicy: Cluster
      ipDualStack:
        enabled: false
        ipFamilies:
        - IPv6
        - IPv4
        ipFamilyPolicy: PreferDualStack
      labels: {}
      loadBalancerIP: ''
      loadBalancerSourceRanges: []
      nodePort: 30080
      nodePortTls: 30443
      type: ClusterIP
    serviceAccount:
      annotations: {}
      automountServiceAccountToken: true
      create: true
      name: ''
    serviceMonitor:
      additionalLabels: {}
      interval: ''
      labelLimit: 0
      labelNameLengthLimit: 0
      labelValueLengthLimit: 0
      metricRelabelings: []
      relabelings: []
      sampleLimit: 0
      scrapeTimeout: ''
      selfMonitor: true
      targetLimit: 0
    strategy: {}
    terminationGracePeriodSeconds: 30
    thanosImage:
      repository: rancher/mirrored-thanos-thanos
      tag: v0.39.2
    thanosRulerInstanceNamespaces: []
    thanosRulerInstanceSelector: ''
    tls:
      # Disable TLS for prometheus-operator - requires admission webhook secret
      # Enable once cert-manager integration is configured
      enabled: false
      internalPort: 10250
      tlsMinVersion: VersionTLS13
    tolerations: []
    verticalPodAutoscaler:
      controlledResources: []
      enabled: false
      maxAllowed: {}
      minAllowed: {}
      updatePolicy:
        updateMode: Auto
  rancherBackupMonitoring:
    dashboards:
      enabled: false
  rancherMonitoring:
    enabled: true
    namespaceSelector:
      matchNames:
      - cattle-system
    selector: {}
  rke2ControllerManager:
    clients:
      https:
        enabled: true
        insecureSkipVerify: true
        useServiceAccountCredentials: true
      nodeSelector:
        node-role.kubernetes.io/master: 'true'
      port: 10011
      tolerations:
      - effect: NoExecute
        operator: Exists
      - effect: NoSchedule
        operator: Exists
      useLocalhost: true
    component: kube-controller-manager
    enabled: true
    kubeVersionOverrides:
    - constraint: < 1.22
      values:
        clients:
          https:
            enabled: false
            insecureSkipVerify: false
            useServiceAccountCredentials: false
        metricsPort: 10252
    metricsPort: 10257
  rke2Etcd:
    clients:
      nodeSelector:
        node-role.kubernetes.io/etcd: 'true'
      port: 10014
      tolerations:
      - effect: NoExecute
        operator: Exists
      - effect: NoSchedule
        operator: Exists
      useLocalhost: true
    component: kube-etcd
    enabled: true
    metricsPort: 2381
  rke2IngressNginx:
    clients:
      enabled: false
    component: ingress-nginx
    enabled: true
    kubeVersionOverrides:
    - constraint: < 1.21.0-0
      values:
        clients:
          affinity:
            podAffinity:
              requiredDuringSchedulingIgnoredDuringExecution:
              - labelSelector:
                  matchExpressions:
                  - key: app.kubernetes.io/component
                    operator: In
                    values:
                    - controller
                namespaces:
                - kube-system
                topologyKey: kubernetes.io/hostname
          deployment:
            enabled: false
          enabled: true
          port: 10015
          tolerations:
          - effect: NoExecute
            operator: Exists
          - effect: NoSchedule
            operator: Exists
          useLocalhost: true
        namespaceOverride: ''
        proxy:
          enabled: true
        service:
          selector: false
    - constraint: '>= 1.21.0-0 < 1.22.12-0'
      values:
        clients:
          affinity:
            podAffinity:
              requiredDuringSchedulingIgnoredDuringExecution:
              - labelSelector:
                  matchExpressions:
                  - key: app.kubernetes.io/component
                    operator: In
                    values:
                    - controller
                namespaces:
                - kube-system
                topologyKey: kubernetes.io/hostname
          deployment:
            enabled: true
            replicas: 1
          enabled: true
          port: 10015
          tolerations:
          - effect: NoExecute
            operator: Exists
          - effect: NoSchedule
            operator: Exists
          useLocalhost: true
        namespaceOverride: ''
        proxy:
          enabled: true
        service:
          selector: false
    - constraint: '>= 1.23.0-0 < v1.23.9-0'
      values:
        clients:
          affinity:
            podAffinity:
              requiredDuringSchedulingIgnoredDuringExecution:
              - labelSelector:
                  matchExpressions:
                  - key: app.kubernetes.io/component
                    operator: In
                    values:
                    - controller
                namespaces:
                - kube-system
                topologyKey: kubernetes.io/hostname
          deployment:
            enabled: true
            replicas: 1
          enabled: true
          port: 10015
          tolerations:
          - effect: NoExecute
            operator: Exists
          - effect: NoSchedule
            operator: Exists
          useLocalhost: true
        namespaceOverride: ''
        proxy:
          enabled: true
        service:
          selector: false
    - constraint: '>= 1.24.0-0 < v1.24.3-0'
      values:
        clients:
          affinity:
            podAffinity:
              requiredDuringSchedulingIgnoredDuringExecution:
              - labelSelector:
                  matchExpressions:
                  - key: app.kubernetes.io/component
                    operator: In
                    values:
                    - controller
                namespaces:
                - kube-system
                topologyKey: kubernetes.io/hostname
          deployment:
            enabled: true
            replicas: 1
          enabled: true
          port: 10015
          tolerations:
          - effect: NoExecute
            operator: Exists
          - effect: NoSchedule
            operator: Exists
          useLocalhost: true
        namespaceOverride: ''
        proxy:
          enabled: true
        service:
          selector: false
    metricsPort: 10254
    namespaceOverride: kube-system
    networkPolicy:
      enabled: false
    proxy:
      enabled: false
    service:
      selector:
        app.kubernetes.io/name: rke2-ingress-nginx
  rke2Proxy:
    clients:
      port: 10013
      tolerations:
      - effect: NoExecute
        operator: Exists
      - effect: NoSchedule
        operator: Exists
      useLocalhost: true
    component: kube-proxy
    enabled: true
    metricsPort: 10249
  rke2Scheduler:
    clients:
      https:
        enabled: true
        insecureSkipVerify: true
        useServiceAccountCredentials: true
      nodeSelector:
        node-role.kubernetes.io/master: 'true'
      port: 10012
      tolerations:
      - effect: NoExecute
        operator: Exists
      - effect: NoSchedule
        operator: Exists
      useLocalhost: true
    component: kube-scheduler
    enabled: true
    kubeVersionOverrides:
    - constraint: < 1.22
      values:
        clients:
          https:
            enabled: false
            insecureSkipVerify: false
            useServiceAccountCredentials: false
        metricsPort: 10251
    metricsPort: 10259
  rkeControllerManager:
    clients:
      https:
        enabled: true
        insecureSkipVerify: true
        useServiceAccountCredentials: true
      nodeSelector:
        node-role.kubernetes.io/controlplane: 'true'
      port: 10011
      tolerations:
      - effect: NoExecute
        operator: Exists
      - effect: NoSchedule
        operator: Exists
      useLocalhost: true
    component: kube-controller-manager
    enabled: false
    kubeVersionOverrides:
    - constraint: < 1.22
      values:
        clients:
          https:
            enabled: false
            insecureSkipVerify: false
            useServiceAccountCredentials: false
        metricsPort: 10252
    metricsPort: 10257
  rkeEtcd:
    clients:
      https:
        caCertFile: kube-ca.pem
        certDir: /etc/kubernetes/ssl
        certFile: kube-etcd-*.pem
        enabled: true
        keyFile: kube-etcd-*-key.pem
        seLinuxOptions:
          type: rke_kubereader_t
      nodeSelector:
        node-role.kubernetes.io/etcd: 'true'
      port: 10014
      tolerations:
      - effect: NoExecute
        operator: Exists
      - effect: NoSchedule
        operator: Exists
    component: kube-etcd
    enabled: false
    metricsPort: 2379
  rkeIngressNginx:
    clients:
      nodeSelector:
        node-role.kubernetes.io/worker: 'true'
      port: 10015
      tolerations:
      - effect: NoExecute
        operator: Exists
      - effect: NoSchedule
        operator: Exists
      useLocalhost: true
    component: ingress-nginx
    enabled: false
    metricsPort: 10254
  rkeProxy:
    clients:
      port: 10013
      tolerations:
      - effect: NoExecute
        operator: Exists
      - effect: NoSchedule
        operator: Exists
      useLocalhost: true
    component: kube-proxy
    enabled: false
    metricsPort: 10249
  rkeScheduler:
    clients:
      https:
        enabled: true
        insecureSkipVerify: true
        useServiceAccountCredentials: true
      nodeSelector:
        node-role.kubernetes.io/controlplane: 'true'
      port: 10012
      tolerations:
      - effect: NoExecute
        operator: Exists
      - effect: NoSchedule
        operator: Exists
      useLocalhost: true
    component: kube-scheduler
    enabled: false
    kubeVersionOverrides:
    - constraint: < 1.23
      values:
        clients:
          https:
            enabled: false
            insecureSkipVerify: false
            useServiceAccountCredentials: false
        metricsPort: 10251
    metricsPort: 10259
  thanosRuler:
    annotations: {}
    enabled: false
    extraSecret:
      annotations: {}
      data: {}
    ingress:
      annotations: {}
      enabled: false
      hosts: []
      ingressClassName: ''
      labels: {}
      paths: []
      tls: []
    podDisruptionBudget:
      enabled: false
      minAvailable: 1
      unhealthyPodEvictionPolicy: AlwaysAllow
    route:
      main:
        additionalRules: []
        annotations: {}
        apiVersion: gateway.networking.k8s.io/v1
        enabled: false
        filters: []
        hostnames: []
        httpsRedirect: false
        kind: HTTPRoute
        labels: {}
        matches:
        - path:
            type: PathPrefix
            value: /
        parentRefs: []
    service:
      additionalPorts: []
      annotations: {}
      clusterIP: ''
      enabled: true
      externalIPs: []
      externalTrafficPolicy: Cluster
      ipDualStack:
        enabled: false
        ipFamilies:
        - IPv6
        - IPv4
        ipFamilyPolicy: PreferDualStack
      labels: {}
      loadBalancerIP: ''
      loadBalancerSourceRanges: []
      nodePort: 30905
      port: 10902
      targetPort: 10902
      type: ClusterIP
    serviceAccount:
      annotations: {}
      create: true
      name: ''
    serviceMonitor:
      additionalEndpoints: []
      additionalLabels: {}
      bearerTokenFile: null
      interval: ''
      labelLimit: 0
      labelNameLengthLimit: 0
      labelValueLengthLimit: 0
      metricRelabelings: []
      proxyUrl: ''
      relabelings: []
      sampleLimit: 0
      scheme: ''
      selfMonitor: true
      targetLimit: 0
      tlsConfig: {}
    thanosRulerSpec:
      additionalArgs: []
      additionalConfig: {}
      additionalConfigString: ''
      affinity: {}
      alertDropLabels: []
      alertmanagersConfig:
        existingSecret: {}
        secret: {}
      containers: []
      evaluationInterval: ''
      externalPrefix: null
      image:
        repository: rancher/mirrored-thanos-thanos
        tag: v0.39.2
      initContainers: []
      labels: {}
      listenLocal: false
      logFormat: logfmt
      logLevel: info
      nodeSelector: {}
      objectStorageConfig:
        existingSecret: {}
        secret: {}
      paused: false
      podAntiAffinity: soft
      podAntiAffinityTopologyKey: kubernetes.io/hostname
      podMetadata: {}
      portName: web
      priorityClassName: ''
      queryConfig:
        existingSecret: {}
        secret: {}
      queryEndpoints: []
      replicas: 1
      resources: {}
      retention: 24h
      routePrefix: /
      ruleNamespaceSelector: {}
      ruleSelector: {}
      ruleSelectorNilUsesHelmValues: true
      securityContext:
        fsGroup: 2000
        runAsGroup: 2000
        runAsNonRoot: true
        runAsUser: 1000
        seccompProfile:
          type: RuntimeDefault
      serviceName: null
      storage: {}
      tolerations: []
      topologySpreadConstraints: []
      volumeMounts: []
      volumes: []
      web: {}
  upgrade:
    enabled: true
    image:
      repository: rancher/kuberlr-kubectl
      tag: v6.0.0
  windowsMonitoring:
    enabled: false
